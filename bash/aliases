#
# shortuts
#

# directory traversal
function rr() {
  cd ~/Sites/$1
}
function aps() {
  if [ -z "$1" ]; then # Is parameter #1 zero length?
    cd /var/www/apps
  else
    cd /var/www/apps/$1/current
  fi
}
alias htm="cd /var/www/html"

# common utilities
alias e="$EDITOR"
alias h="history"
alias l="ls -al"

# mysql
function ms() {
  if [ -z "$1" ]; then # Is parameter #1 zero length?
    echo "mysql"
    mysql
  else
    if [ -z "$RAILS_ENV" ]; then # Is parameter #1 zero length?
      echo "mysql $1_development"
      mysql $1_development
    else
      echo "mysql $1_$RAILS_ENV"
      mysql $1_$RAILS_ENV
    fi
  fi
}
alias m="ms"

# rails
alias ss="./script/server -u"
alias ssp="ss -p"
alias sc="./script/console"
alias mig="rake db:migrate db:test:clone"
alias rst="touch tmp/restart.txt"

# git
alias g="git checkout"
alias s="git status"
alias ga="git add ."
alias gb="git checkout -b"
alias gc="git commit -am"
alias gd="git diff"
alias gf="git fetch origin"
alias gl="git log --color --date=short --pretty=format:'%cd %Cblue%h%Creset (%an) : %s'"
alias glc="gl --reverse | cat"
alias gls="git shortlog"
alias gcommits="git shortlog -ns"
alias gg="gl --graph"
alias ggc="gg --reverse | cat"
alias gm="git merge"
alias gp="git push --tags "
alias gu="git pull --tags "
alias amend="git commit --amend"
function ggrp() {
  gl --grep=$1
}
function gfm() {
  gf $*
  gm FETCH_HEAD
}
function gbranch() {
  current_branch=$(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/')
}
function gpo() {
  # pushes the current branch; whatever that is
  gbranch
  gp origin $current_branch
}
function guo() {
  # pushes the current branch; whatever that is
  gbranch
  gu origin $current_branch
}
function gpom() {
  gp origin master
}
function guom() {
  gu origin master
}
#function gc() {
#  git commit -a -m $1
#}=
#function gb() {
#  git checkout -b $*
#}
#function gf() {
#  git fetch origin $*
#}

# dotfiles
alias alr=". ~/Me/bash/aliases"
alias _al="e ~/Me/bash/aliases && alr"
alias _me="e ~/Me"


